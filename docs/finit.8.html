<!doctype html>
<html lang=en>

<head>
  <title>Friedel's Initialization and Service Supervision</title>
  <meta charset=utf-8 />
  <meta name=viewport content='width=device-width,initial-scale=1' />
  <link rel=stylesheet href=assets/style.css />
  <script type=text/javascript src=assets/toggle-dark.js></script>
</head>

<body>
<div id=wrapper>

<a class=title id=name href=#name>Name</a>
--------------------------------------------------------------------------------

fiss - a UNIX process no 1 
<a class=title id=synopsis href=#synopsis>Synopsis</a>
--------------------------------------------------------------------------------

<ul>
<li><b>fsvc</b> when running as PID 0 (as init) </li>
<li><b>fsvc</b> <0|6> when running regulary to controll init </li></ul>
<a class=title id=controlling href=#controlling>Controlling</a>
--------------------------------------------------------------------------------

If <b>finit</b> is invoked by any other user than <i>root</i>, it failes. 
<ul>
<li><b>finit</b> 0 halts the system </li>
<li><b>finit</b> 6 reboots the system </li></ul>
<a class=title id=description href=#description>Description</a>
--------------------------------------------------------------------------------

<b>fiss</b> must be run as Unix process no 1 if invoked without arguments and handles the boot process in user-land. 
This happens in three stages: 
<a class=title id=stage href=#stage>Stage 1</a>
--------------------------------------------------------------------------------

<b>fiss</b> runs <i>/etc/fiss/start</i> and waits for it to terminate. The system's one time tasks are done here. <i>/etc/fiss/start</i> has full control of <i>/dev/console</i> to be able to start an emergency shell if the one time initialization tasks fail. If <i>/etc/fiss/start</i> crashes, <b>finit</b> will skip stage 2 and enter stage 3. 
<a class=title id=stage href=#stage>Stage 2</a>
--------------------------------------------------------------------------------

<b>fiss</b> starts all services in <i>/etc/fiss/service.d</i> which should not return until system shutdown; if it crashes, it will be restarted. 
<a class=title id=stage href=#stage>Stage 3</a>
--------------------------------------------------------------------------------

If <b>fiss</b> is told to shutdown the system, it terminates stage 2 if it is running, and runs <i>/etc/fiss/stop</i>. The systems tasks to shutdown and possibly halt or reboot the system are done here. If stage 3 returns, <b>finit</b> checks if the file 
<a class=title id=signals href=#signals>Signals</a>
--------------------------------------------------------------------------------

<b>finit</b> only accepts signals in stage 2. 
If <b>finit</b> receives a CONT signal and the file <b>finit</b> is told to shutdown the system. 
if <b>finit</b> receives an INT signal, <b>finit</b> restarts the system. 
<a class=title id=see href=#see>See ALSO</a>
--------------------------------------------------------------------------------

fiss-init(8), runsvdir(8), runsvchdir(8), sv(8), runsv(8), chpst(8), utmpset(8), svlogd(8) 
<a class=title id=author href=#author>Author</a>
--------------------------------------------------------------------------------

Friedel Sch√∂n <derfriedmundschoen@gmail.com> 
</div>
</body>
</html>

